================================================================================
                    COURS ANGULAR COMPLET POUR D√âBUTANTS
                    + EXPLICATION D√âTAILL√âE DU PROJET M√âT√âO
================================================================================

TABLE DES MATI√àRES
==================
1. COURS ANGULAR DE BASE
   1.1 Qu'est-ce qu'Angular ?
   1.2 Concepts fondamentaux
   1.3 Structure d'un projet Angular
   1.4 Composants
   1.5 Services
   1.6 Routing (Navigation)
   1.7 Modules
   1.8 Templates et Binding
   1.9 Directives
   1.10 Pipes

2. STRUCTURE DU PROJET M√âT√âO
   2.1 Organisation des dossiers
   2.2 Fichiers de configuration
   2.3 Architecture g√©n√©rale

3. EXPLICATION D√âTAILL√âE FICHIER PAR FICHIER
   3.1 Fichiers de configuration
   3.2 Composant principal (App)
   3.3 Mod√®les de donn√©es
   3.4 Services
   3.5 Composants m√©t√©o
   3.6 Pages de pr√©visions
   3.7 Composant de graphique
   3.8 Styles et CSS

4. CONCLUSION ET OBJECTIFS ATTEINTS

================================================================================
1. COURS ANGULAR DE BASE
================================================================================

1.1 QU'EST-CE QU'ANGULAR ?
============================
Angular est un framework JavaScript d√©velopp√© par Google pour cr√©er des applications web dynamiques et interactives. C'est un outil moderne qui permet de construire des applications "Single Page Application" (SPA).

Avantages d'Angular :
- Structure claire et organis√©e
- Outils de d√©veloppement puissants
- Grande communaut√© et documentation
- Performance optimis√©e
- S√©curit√© int√©gr√©e

1.2 CONCEPTS FONDAMENTAUX
==========================
Angular fonctionne sur plusieurs concepts cl√©s :

a) COMPOSANTS (Components)
   - Ce sont les blocs de construction de l'interface utilisateur
   - Chaque composant a : un template HTML, une classe TypeScript, des styles CSS
   - Exemple : un bouton, une carte, un formulaire

b) SERVICES (Services)
   - Contiennent la logique m√©tier et les donn√©es
   - Peuvent √™tre partag√©s entre plusieurs composants
   - Exemple : service pour r√©cup√©rer la m√©t√©o depuis une API

c) MODULES (Modules)
   - Organisent et regroupent les composants, services et directives
   - Permettent la r√©utilisation et la maintenance
   - Exemple : module pour toutes les fonctionnalit√©s m√©t√©o

d) ROUTING (Navigation)
   - Permet de naviguer entre diff√©rentes pages sans recharger
   - Cr√©e une exp√©rience utilisateur fluide
   - Exemple : aller de la page d'accueil √† la page des pr√©visions

1.3 STRUCTURE D'UN PROJET ANGULAR
==================================
Un projet Angular typique contient :

/src/app/          ‚Üí Code principal de l'application
/src/assets/       ‚Üí Images, ic√¥nes, fichiers statiques
/src/environments/ ‚Üí Configuration pour d√©veloppement/production
/src/styles/       ‚Üí Styles globaux
/package.json      ‚Üí D√©pendances et scripts
/angular.json      ‚Üí Configuration Angular
/tsconfig.json     ‚Üí Configuration TypeScript

1.4 COMPOSANTS
===============
Un composant Angular est compos√© de 3 parties :

a) CLASSE TYPESCRIPT (.ts)
   - Contient la logique et les donn√©es
   - Utilise des d√©corateurs (@Component)
   - G√®re les √©v√©nements et la logique m√©tier

b) TEMPLATE HTML (.html)
   - D√©finit la structure de l'interface
   - Utilise la syntaxe Angular ({{ }}, [], (), *ngIf, etc.)
   - Affiche les donn√©es du composant

c) STYLES CSS/SCSS (.scss)
   - D√©finit l'apparence du composant
   - Peut √™tre encapsul√© (styles locaux uniquement)
   - Supporte les variables et mixins SCSS

Exemple de composant simple :
```typescript
@Component({
  selector: 'app-bouton',           // Nom du composant dans le HTML
  templateUrl: './bouton.html',     // Template HTML
  styleUrl: './bouton.scss'         // Styles CSS
})
export class BoutonComponent {
  texte = "Cliquez-moi";           // Propri√©t√© du composant
  
  onClick() {                       // M√©thode du composant
    alert("Bouton cliqu√© !");
  }
}
```

1.5 SERVICES
=============
Les services sont des classes qui contiennent la logique m√©tier :

- Peuvent √™tre inject√©s dans les composants
- Partagent des donn√©es entre composants
- G√®rent les appels API et la persistance
- Sont r√©utilisables

Exemple de service :
```typescript
@Injectable({
  providedIn: 'root'  // Service disponible globalement
})
export class MeteoService {
  getMeteo(ville: string) {
    // Logique pour r√©cup√©rer la m√©t√©o
    return this.http.get(`/api/meteo/${ville}`);
  }
}
```

1.6 ROUTING (NAVIGATION)
==========================
Le routing permet de naviguer entre les pages :

- D√©finit les URLs de l'application
- Charge les composants appropri√©s
- G√®re les param√®tres d'URL
- Permet la navigation programmatique

Exemple de configuration de routes :
```typescript
const routes: Routes = [
  { path: '', component: AccueilComponent },           // Page d'accueil
  { path: 'meteo/:ville', component: MeteoComponent }, // Page m√©t√©o avec param√®tre
  { path: '**', component: NotFoundComponent }         // Page 404
];
```

1.7 MODULES
============
Les modules organisent l'application :

- NgModule : module principal d'Angular
- Feature modules : modules pour des fonctionnalit√©s sp√©cifiques
- Shared modules : modules partag√©s entre composants
- Lazy loading : chargement √† la demande

1.8 TEMPLATES ET BINDING
=========================
Angular offre plusieurs types de binding :

a) INTERPOLATION {{ }}
   - Affiche des valeurs dans le template
   - Exemple : {{ nomVille }}

b) PROPERTY BINDING []
   - Lie une propri√©t√© HTML √† une valeur
   - Exemple : [src]="imageUrl"

c) EVENT BINDING ()
   - Lie un √©v√©nement √† une m√©thode
   - Exemple : (click)="onClick()"

d) TWO-WAY BINDING [()]
   - Synchronise bidirectionnellement les donn√©es
   - Exemple : [(ngModel)]="nom"

1.9 DIRECTIVES
===============
Les directives modifient le comportement du DOM :

a) STRUCTURALES (*ngIf, *ngFor, *ngSwitch)
   - Modifient la structure du DOM
   - Exemple : *ngFor="let item of items"

b) ATTRIBUTS ([ngClass], [ngStyle])
   - Modifient l'apparence des √©l√©ments
   - Exemple : [ngClass]="{'actif': isActive}"

1.10 PIPES
===========
Les pipes transforment les donn√©es d'affichage :

- Formatage des dates, nombres, textes
- Exemple : {{ date | date:'dd/MM/yyyy' }}
- Pipes personnalis√©s possibles

================================================================================
2. STRUCTURE DU PROJET M√âT√âO
================================================================================

2.1 ORGANISATION DES DOSSIERS
==============================

weather-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Code principal de l'application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/         # Composants r√©utilisables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Pages principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # Services m√©tier
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/            # D√©finitions des types
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/            # √âl√©ments partag√©s
‚îÇ   ‚îú‚îÄ‚îÄ assets/                # Ressources statiques
‚îÇ   ‚îú‚îÄ‚îÄ environments/          # Configuration par environnement
‚îÇ   ‚îî‚îÄ‚îÄ styles/                # Styles globaux
‚îú‚îÄ‚îÄ package.json               # D√©pendances npm
‚îú‚îÄ‚îÄ angular.json              # Configuration Angular
‚îî‚îÄ‚îÄ tsconfig.json             # Configuration TypeScript

2.2 FICHIERS DE CONFIGURATION
==============================

a) package.json
   - Liste toutes les d√©pendances
   - D√©finit les scripts de build et d√©veloppement
   - Version de l'application

b) angular.json
   - Configuration sp√©cifique √† Angular
   - D√©finit les assets, styles, scripts
   - Configuration de build et serve

c) tsconfig.json
   - Configuration TypeScript
   - Options de compilation
   - R√®gles strictes

2.3 ARCHITECTURE G√âN√âRALE
===========================
L'application suit le pattern MVC (Model-View-Controller) :

- MODELS : D√©finissent la structure des donn√©es m√©t√©o
- VIEWS : Composants qui affichent l'interface
- CONTROLLERS : Services qui g√®rent la logique m√©tier

================================================================================
3. EXPLICATION D√âTAILL√âE FICHIER PAR FICHIER
================================================================================

3.1 FICHIERS DE CONFIGURATION
==============================

a) package.json
```json
{
  "name": "weather-app",
  "version": "0.0.0",
  "dependencies": {
    "@angular/common": "^20.1.0",        // Module Angular pour fonctionnalit√©s communes
    "@angular/core": "^20.1.0",          // C≈ìur d'Angular (composants, services)
    "@angular/forms": "^20.1.0",         // Gestion des formulaires
    "@angular/platform-browser": "^20.1.0", // Support navigateur
    "@angular/router": "^20.1.0",        // Syst√®me de navigation
    "bootstrap": "^5.3.7",               // Framework CSS pour le design
    "leaflet": "^1.9.4",                 // Biblioth√®que pour les cartes
    "chart.js": "^4.5.0"                 // Biblioth√®que pour les graphiques
  }
}
```

b) angular.json
```json
{
  "projects": {
    "weather-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",  // Outil de build
          "options": {
            "browser": "src/main.ts",               // Point d'entr√©e
            "styles": ["src/styles.scss"],          // Fichiers CSS globaux
            "assets": [{"glob": "**/*", "input": "public"}] // Ressources
          }
        }
      }
    }
  }
}
```

3.2 COMPOSANT PRINCIPAL (APP)
==============================

a) app.ts (Classe principale)
```typescript
import { Component, OnInit, HostListener } from '@angular/core';

@Component({
  selector: 'app-root',           // Nom du composant dans le HTML
  templateUrl: './app.html',      // Template principal
  styleUrl: './app.scss'          // Styles principaux
})
export class AppComponent implements OnInit {
  title = 'WeatherApp';           // Titre de l'application
  isMenuOpen = false;             // √âtat du menu mobile
  isMobile = false;               // D√©tection mobile/desktop

  ngOnInit(): void {
    this.checkScreenSize();        // V√©rifier la taille d'√©cran au d√©marrage
  }

  @HostListener('window:resize')  // √âcouter le redimensionnement
  onResize(): void {
    this.checkScreenSize();        // Recalculer la taille
  }

  private checkScreenSize(): void {
    this.isMobile = window.innerWidth < 992;  // Seuil mobile : 992px
    
    // Sur desktop, le menu est toujours ouvert
    if (!this.isMobile) {
      this.isMenuOpen = true;
    }
  }

  toggleMenu(): void {
    // Seulement sur mobile
    if (this.isMobile) {
      this.isMenuOpen = !this.isMenuOpen;
    }
  }
}
```

POURQUOI CETTE LOGIQUE ?
- D√©tection automatique mobile/desktop
- Menu toujours visible sur desktop (meilleure UX)
- Menu hamburger seulement sur mobile
- Gestion responsive intelligente

b) app.html (Template principal)
```html
<div class="weather-app-container">
  <!-- Navigation Bootstrap -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
      <!-- Logo de l'application -->
      <a class="navbar-brand fw-bold" routerLink="/home" (click)="closeMenu()">
        üå§Ô∏è WeatherApp
      </a>
      
      <!-- Bouton hamburger pour mobile -->
      <button class="navbar-toggler" type="button" (click)="toggleMenu()" 
              [class.collapsed]="!isMenuOpen">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <!-- Menu de navigation -->
      <div class="navbar-collapse" [class.show]="isMenuOpen || !isMobile" 
           [class.collapse]="isMobile && !isMenuOpen">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" routerLink="/home" routerLinkActive="active" 
               (click)="closeMenu()">Accueil</a>
          </li>
          <!-- Autres liens de navigation -->
        </ul>
      </div>
    </div>
  </nav>

  <!-- Contenu principal avec padding pour la navbar fixe -->
  <main class="container-fluid" style="padding-top: 80px;">
    <router-outlet></router-outlet>  <!-- Ici s'affichent les pages -->
  </main>
</div>
```

EXPLICATION DES ATTRIBUTS :
- routerLink="/home" : Lien de navigation Angular
- routerLinkActive="active" : Classe CSS active quand la route est active
- (click)="closeMenu()" : Appel de m√©thode au clic
- [class.show]="isMenuOpen || !isMobile" : Classe conditionnelle
- <router-outlet> : Zone o√π s'affichent les pages

3.3 MOD√àLES DE DONN√âES
========================

a) weather.model.ts
```typescript
// Interface pour une ville
export interface City {
  name: string;        // Nom de la ville
  lat: number;         // Latitude
  lon: number;         // Longitude
  country: string;     // Pays
  state?: string;      // √âtat/R√©gion (optionnel)
}

// Interface pour la m√©t√©o actuelle
export interface CurrentWeather {
  coord: {             // Coordonn√©es g√©ographiques
    lat: number;
    lon: number;
  };
  weather: Array<{     // Conditions m√©t√©o
    id: number;
    main: string;
    description: string;
    icon: string;
  }>;
  main: {              // Donn√©es principales
    temp: number;      // Temp√©rature en ¬∞C
    feels_like: number; // Temp√©rature ressentie
    pressure: number;  // Pression en hPa
    humidity: number;  // Humidit√© en %
  };
  wind: {              // Donn√©es du vent
    speed: number;     // Vitesse en km/h
    deg: number;       // Direction en degr√©s
  };
  visibility: number;  // Visibilit√© en m√®tres
  name: string;        // Nom de la ville
  sys: {               // Informations syst√®me
    country: string;   // Code pays
    sunrise: number;   // Lever du soleil (timestamp)
    sunset: number;    // Coucher du soleil (timestamp)
  };
}
```

POURQUOI CES INTERFACES ?
- TypeScript : s√©curit√© des types
- R√©utilisabilit√© : m√™mes structures partout
- Maintenance : modification centralis√©e
- Documentation : code auto-document√©

3.4 SERVICES
=============

a) weather.service.ts
```typescript
import { Injectable } from '@angular/core';
import { HttpClient, HttpParams } from '@angular/common/http';
import { Observable, catchError, map, throwError } from 'rxjs';

@Injectable({
  providedIn: 'root'  // Service disponible globalement
})
export class WeatherService {
  private readonly apiKey = environment.openWeatherMapApiKey;  // Cl√© API
  private readonly baseUrl = environment.openWeatherMapBaseUrl; // URL de base

  constructor(private http: HttpClient) {}  // Injection du service HTTP

  /**
   * R√©cup√®re la m√©t√©o actuelle d'une ville
   */
  getCurrentWeather(city: string): Observable<CurrentWeather> {
    const params = new HttpParams()           // Param√®tres de requ√™te
      .set('q', city)                         // Nom de la ville
      .set('appid', this.apiKey)              // Cl√© API
      .set('units', 'metric')                 // Unit√©s m√©triques (¬∞C, km/h)
      .set('lang', 'fr');                     // Langue fran√ßaise

    return this.http.get<CurrentWeather>(`${this.baseUrl}/weather`, { params })
      .pipe(
        catchError(this.handleError)          // Gestion des erreurs
      );
  }

  /**
   * R√©cup√®re les pr√©visions 24h
   */
  getForecast24h(lat: number, lon: number): Observable<ForecastResponse> {
    const params = new HttpParams()
      .set('lat', lat.toString())             // Latitude
      .set('lon', lon.toString())             // Longitude
      .set('appid', this.apiKey)
      .set('units', 'metric')
      .set('lang', 'fr')
      .set('cnt', '8');                       // 8 pr√©visions = 24h

    return this.http.get<ForecastResponse>(`${this.baseUrl}/forecast`, { params })
      .pipe(
        catchError(this.handleError)
      );
  }

  /**
   * Gestion des erreurs HTTP
   */
  private handleError(error: any): Observable<never> {
    let errorMessage = 'Une erreur est survenue';
    
    if (error.status === 401) {
      errorMessage = 'Cl√© API invalide. V√©rifiez votre configuration.';
    } else if (error.status === 404) {
      errorMessage = 'Ville non trouv√©e. V√©rifiez l\'orthographe.';
    }
    // ... autres cas d'erreur

    console.error('Erreur API:', error);
    return throwError(() => new Error(errorMessage));
  }
}
```

EXPLICATION DES CONCEPTS :
- @Injectable : D√©corateur pour cr√©er un service
- HttpClient : Service Angular pour les requ√™tes HTTP
- Observable : Type RxJS pour les donn√©es asynchrones
- HttpParams : Construction s√©curis√©e des param√®tres d'URL
- catchError : Op√©rateur RxJS pour g√©rer les erreurs

3.5 COMPOSANTS M√âT√âO
======================

a) weather-card.component.ts
```typescript
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { CurrentWeather } from '../../models/weather.model';

@Component({
  selector: 'app-weather-card',
  templateUrl: './weather-card.html',
  styleUrl: './weather-card.scss'
})
export class WeatherCardComponent {
  @Input() weather!: CurrentWeather;        // Donn√©es m√©t√©o re√ßues du parent
  @Input() isFavorite: boolean = false;     // √âtat favori
  @Output() favoriteToggle = new EventEmitter<CurrentWeather>(); // √âv√©nement vers le parent

  /**
   * Bascule l'√©tat favori
   */
  toggleFavorite(): void {
    this.favoriteToggle.emit(this.weather);  // √âmet l'√©v√©nement vers le parent
  }

  /**
   * Obtient l'ic√¥ne m√©t√©o appropri√©e
   */
  getWeatherIcon(iconCode: string): string {
    return `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
  }

  /**
   * Obtient la classe CSS pour la temp√©rature
   */
  getTemperatureClass(temp: number): string {
    if (temp < 0) return 'text-primary';      // Bleu pour le froid
    if (temp < 15) return 'text-info';        // Bleu clair pour le frais
    if (temp < 25) return 'text-success';     // Vert pour le doux
    if (temp < 35) return 'text-warning';     // Orange pour le chaud
    return 'text-danger';                      // Rouge pour le tr√®s chaud
  }
}
```

EXPLICATION DES D√âCORATEURS :
- @Input() : Propri√©t√© re√ßue du composant parent
- @Output() : √âv√©nement √©mis vers le composant parent
- EventEmitter : Type pour √©mettre des √©v√©nements

b) weather-card.html
```html
<div class="weather-card">
  <div class="card h-100">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">{{ weather.name }}</h5>
      
      <!-- Bouton favori -->
      <button class="btn btn-sm" 
              [class.btn-outline-danger]="!isFavorite"
              [class.btn-danger]="isFavorite"
              (click)="toggleFavorite()">
        <i class="bi" [class.bi-heart]="!isFavorite" [class.bi-heart-fill]="isFavorite"></i>
      </button>
    </div>
    
    <div class="card-body text-center">
      <!-- Ic√¥ne m√©t√©o -->
      <div class="weather-icon mb-3">
        <img [src]="getWeatherIcon(weather.weather[0].icon)" 
             [alt]="weather.weather[0].description"
             class="weather-icon-img">
        <p class="weather-description">{{ weather.weather[0].description }}</p>
      </div>
      
      <!-- Temp√©rature principale -->
      <div class="temperature mb-3">
        <span class="temp-value" [class]="getTemperatureClass(weather.main.temp)">
          {{ weather.main.temp | number:'1.0-0' }}¬∞C
        </span>
        <div class="temp-feels-like">
          Ressenti: {{ weather.main.feels_like | number:'1.0-0' }}¬∞C
        </div>
      </div>
      
      <!-- D√©tails m√©t√©o -->
      <div class="weather-details">
        <div class="detail-item">
          <i class="bi bi-droplet"></i>
          <span>{{ weather.main.humidity }}%</span>
        </div>
        <div class="detail-item">
          <i class="bi bi-wind"></i>
          <span>{{ weather.wind.speed | number:'1.0-0' }} km/h</span>
        </div>
      </div>
    </div>
  </div>
</div>
```

EXPLICATION DES DIRECTIVES :
- *ngIf : Affichage conditionnel
- *ngFor : Boucle sur des √©l√©ments
- [class] : Classe CSS conditionnelle
- (click) : Gestionnaire d'√©v√©nement
- {{ }} : Interpolation de donn√©es
- | number : Pipe de formatage

3.6 PAGES DE PR√âVISIONS
=========================

a) forecast24h.component.ts
```typescript
import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';
import { Subject, takeUntil, switchMap, catchError, of } from 'rxjs';

@Component({
  selector: 'app-forecast24h',
  templateUrl: './forecast24h.html',
  styleUrl: './forecast24h.scss'
})
export class Forecast24hComponent implements OnInit, OnDestroy {
  @ViewChild(ForecastChartComponent) chartComponent!: ForecastChartComponent;

  hourlyForecast: ForecastItem[] = [];  // Pr√©visions horaires
  city: City | null = null;             // Ville s√©lectionn√©e
  isLoading: boolean = false;            // √âtat de chargement
  errorMessage: AppError | null = null;  // Message d'erreur
  
  private destroy$ = new Subject<void>(); // Pour nettoyer les souscriptions

  ngOnInit(): void {
    this.setupErrorHandling();           // Configuration de la gestion d'erreurs
    this.loadForecastFromRoute();        // Chargement des pr√©visions
  }

  ngOnDestroy(): void {
    this.destroy$.next();                // √âmettre la valeur de destruction
    this.destroy$.complete();            // Compl√©ter le Subject
  }

  /**
   * Charge les pr√©visions depuis les param√®tres de route
   */
  private loadForecastFromRoute(): void {
    this.route.queryParams.pipe(         // √âcouter les param√®tres d'URL
      takeUntil(this.destroy$),          // Se d√©sabonner √† la destruction
      switchMap(params => {              // Transformer les param√®tres en requ√™te
        const lat = parseFloat(params['lat']);
        const lon = parseFloat(params['lon']);
        const cityName = params['city'];

        if (!lat || !lon) {
          throw new Error('Coordonn√©es manquantes');
        }

        this.city = {
          name: cityName || 'Position actuelle',
          lat,
          lon,
          country: params['country'] || ''
        };

        return this.weatherService.getForecast24h(lat, lon);
      }),
      catchError(error => {              // Gestion des erreurs
        this.errorService.handleApiError(error, 'Chargement pr√©visions 24h');
        return of(null);                 // Retourner null en cas d'erreur
      })
    ).subscribe(forecast => {            // S'abonner aux r√©sultats
      if (forecast) {
        this.hourlyForecast = forecast.list;
        this.prepareChartData();         // Pr√©parer les donn√©es du graphique
        this.clearError();
      }
    });
  }
}
```

EXPLICATION DES CONCEPTS RXJS :
- Subject : √âmetteur/r√©cepteur de valeurs
- takeUntil : Se d√©sabonne automatiquement
- switchMap : Annule les requ√™tes pr√©c√©dentes
- catchError : G√®re les erreurs dans le flux
- subscribe : S'abonne aux r√©sultats

3.7 COMPOSANT DE GRAPHIQUE
============================

a) forecast-chart.component.ts
```typescript
import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges, ViewChild, ElementRef } from '@angular/core';

// Chart.js types
declare var Chart: any;

@Component({
  selector: 'app-forecast-chart',
  templateUrl: './forecast-chart.html',
  styleUrl: './forecast-chart.scss'
})
export class ForecastChartComponent implements OnInit, OnChanges {
  @Input() forecastData: ForecastResponse | null = null;  // Donn√©es re√ßues
  @Input() title: string = 'Pr√©visions m√©t√©o';            // Titre du graphique
  @Input() chartType: 'line' | 'bar' = 'line';           // Type de graphique
  @Input() period: '24h' | '7days' = '24h';              // P√©riode
  
  @ViewChild('chartCanvas', { static: true }) chartCanvas!: ElementRef;

  chart: any = null;                    // Instance Chart.js
  chartData: any = null;                // Donn√©es format√©es pour Chart.js
  chartOptions: any = {};               // Options du graphique

  ngOnInit(): void {
    this.setupChartOptions();            // Configuration des options
    this.processData();                  // Traitement des donn√©es
  }

  ngOnChanges(changes: SimpleChanges): void {
    if (changes['forecastData'] && !changes['forecastData'].firstChange) {
      this.processData();                // Retraiter si les donn√©es changent
    }
  }

  ngOnDestroy(): void {
    if (this.chart) {
      this.chart.destroy();              // Nettoyer le graphique
    }
  }

  /**
   * Cr√©e ou met √† jour le graphique Chart.js
   */
  private createOrUpdateChart(): void {
    if (!this.chartCanvas?.nativeElement) return;

    // D√©truire l'ancien graphique s'il existe
    if (this.chart) {
      this.chart.destroy();
    }

    // Cr√©er le nouveau graphique
    this.chart = new Chart(this.chartCanvas.nativeElement, {
      type: this.chartType,
      data: this.chartData,
      options: this.chartOptions
    });
  }
}
```

POURQUOI CHART.JS NATIF ?
- √âvite les conflits avec ng2-charts
- Meilleur contr√¥le sur l'instance
- Pas de boucles infinies
- Performance optimis√©e

3.8 STYLES ET CSS
===================

a) styles.scss (Styles globaux)
```scss
/* Import des biblioth√®ques CSS */
@import 'bootstrap/dist/css/bootstrap.min.css';    // Framework CSS Bootstrap
@import 'leaflet/dist/leaflet.css';                // Styles des cartes Leaflet
@import 'bootstrap-icons/font/bootstrap-icons.css'; // Ic√¥nes Bootstrap

/* Variables SCSS */
$primary-color: #007bff;
$success-color: #28a745;
$warning-color: #ffc107;
$danger-color: #dc3545;

/* Styles globaux */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f8f9fa;
}

.weather-app-container {
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* Mixins SCSS */
@mixin card-hover {
  transition: all 0.3s ease;
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  }
}

/* Utilisation des mixins */
.card {
  @include card-hover;
  border: none;
  border-radius: 15px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
```

AVANTAGES DE SCSS :
- Variables r√©utilisables
- Mixins pour code r√©p√©titif
- Imbrication logique
- Calculs et op√©rations
- Import de fichiers

================================================================================
4. CONCLUSION ET OBJECTIFS ATTEINTS
================================================================================

4.1 OBJECTIFS DU PROJET
=========================
L'objectif principal √©tait de cr√©er une application m√©t√©o compl√®te qui permet de :
- Afficher la m√©t√©o actuelle d'une ville
- Consulter les pr√©visions sur 24h et 7 jours
- Visualiser les donn√©es sur des graphiques
- Naviguer sur une carte interactive
- G√©rer une liste de villes favorites

4.2 COMMENT L'OBJECTIF EST ATTEINT
===================================

a) AFFICHAGE M√âT√âO PAR VILLE
   - Service WeatherService r√©cup√®re les donn√©es via l'API OpenWeatherMap
   - Composant WeatherCard affiche les informations de mani√®re claire
   - Gestion des erreurs et √©tats de chargement

b) PR√âVISIONS 24H ET 7 JOURS
   - API 5-day forecast pour les donn√©es r√©elles
   - Simulation intelligente pour compl√©ter √† 7 jours
   - Graphiques Chart.js pour la visualisation
   - Composants d√©di√©s pour chaque type de pr√©vision

c) CARTE INTERACTIVE
   - Biblioth√®que Leaflet pour l'affichage des cartes
   - Int√©gration des couches m√©t√©o OpenWeatherMap
   - G√©olocalisation et recherche de villes
   - Marqueurs et popups informatifs

d) NAVIGATION ET UX
   - Routing Angular pour la navigation entre pages
   - Interface responsive avec Bootstrap
   - Menu adaptatif mobile/desktop
   - Gestion des √©tats et transitions

4.3 ARCHITECTURE ET MAINTENANCE
================================
L'application suit les bonnes pratiques Angular :

- S√©paration des responsabilit√©s (composants, services, mod√®les)
- Injection de d√©pendances pour la r√©utilisabilit√©
- Gestion des erreurs centralis√©e
- Code modulaire et maintenable
- Styles organis√©s et r√©utilisables

4.4 APPRENTISSAGE ANGULAR
==========================
Ce projet vous a permis de d√©couvrir :

- Structure d'un composant Angular
- Communication entre composants
- Gestion des services et de l'√©tat
- Routing et navigation
- Int√©gration d'APIs externes
- Gestion des erreurs
- Styles et responsive design
- Int√©gration de biblioth√®ques tierces

4.5 PROCHAINES √âTAPES
=======================
Pour continuer votre apprentissage Angular :

1. Ajouter de nouvelles fonctionnalit√©s (notifications, historique)
2. Impl√©menter l'authentification utilisateur
3. Ajouter des tests unitaires
4. Optimiser les performances
5. D√©ployer l'application
6. Explorer d'autres concepts (guards, interceptors, etc.)

================================================================================
CONCLUSION
================================================================================

Ce projet m√©t√©o vous a donn√© une base solide en Angular. Vous avez appris √† :
- Structurer une application Angular
- Cr√©er des composants r√©utilisables
- G√©rer les services et la logique m√©tier
- Int√©grer des APIs externes
- Cr√©er une interface utilisateur moderne
- G√©rer la navigation et les √©tats

L'application est maintenant fonctionnelle et vous pouvez la personnaliser selon vos besoins. Continuez √† explorer Angular et n'h√©sitez pas √† exp√©rimenter avec de nouvelles fonctionnalit√©s !

Bon apprentissage ! üöÄüå§Ô∏è

================================================================================
FIN DU COURS
================================================================================
